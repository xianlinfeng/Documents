\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{fullpage}
\usepackage[ruled,vlined,linesnumbered]{algorithm2e}

\setlength{\parindent}{0em}  % set the indent of the paragraph
\setlength{\parskip}{1em} % set the space of the paragraph

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section] % add the section number in front of the definition number
% \newtheorem*{definition}{Definition} % remove the index number of the definition

\title{Pseudo Code for Repair Algorithm}
\author{Arthur Feng}
\date{\today}

\begin{document}
\maketitle

\section{Introduction}
In this section, we define some important definitions and algorithms....
\begin{definition}
(Mixed Integer Programming)\\
In this report we consider a generic mixed-integer programming problem (MIP) in the following form
	\begin{align*}
	\text{(MIP)} \hspace{4mm} &\min \hspace{1.5mm}c^Tx \\
	s.t.\hspace{5mm} &Ax \geq b \\
	&x_j \in \mathbb{Z} \hspace{4mm} \forall j \in \mathcal{I}\\
	&x_j \in \mathbb{R} \hspace{4mm} \forall j \in \mathcal{N} \setminus \mathcal{I}\\
	\end{align*}
where the vector $b \in \mathbb{R}^m$ and the vector $c \in \mathbb{R}^n$ are input vectors.   $A$ is a input matrix of size $m \times n$, the variable input set $\mathcal{I} \subseteq \mathcal{N} = \lbrace 1,2,\dots,n\rbrace$. We denote $\mathcal{P}$ for this problem, which called a mixed-integer programming problem (MIP) with minimize objective function $c^Tx$ subject to the constraints $Ax \geq b$. Besides, some variables are restricted to integer values while the else of are restricted to real value. $S$ is a set of feasible solution if $S$ satisfy all the constraints in the problem. A vector $s^*$ with $s^* \in  S $ is called $optimal \, solution$ when $c^Tx_{s^*} \leq c^Tx_{s} \text{ for } \forall s \in S$.
When all of the variables are restricted to integer, the problem is called $pure integer linear program$(IP) for $\mathcal{I} = \mathcal{N}$. If there is no  integrality constraint, the program is called $linear program$
	\begin{align*}
	\text{(MIP)} \hspace{5mm} &\min \hspace{1.5mm}c^Tx \\
	s.t.\hspace{5mm} &Ax \geq b \\
	&x_j \in \mathbb{R} \hspace{4mm} \forall j \in \mathcal{N} \\
	\end{align*}
% ref: https://eprint.iacr.org/2012/676.pdf
% ref: Mixed-integer Linear Programming in the Analysis of Trivium and Ktantan
% ref: Reoptimization techniques in MIP Solvers

\citation{Mixed-Integer Programming}
\label{def_MIP}
\end{definition}

\begin{definition}
(LP-relaxation)\\
Lp $relaxation$ is obtained by removing all integrity constraints $ \mathcal{I} \leftarrow \emptyset$. LP-$relaxation$ is the foundation of LP-based branch-and-bound technology. As the searching space is increase by removing integrity restrictions, the optimal solution in MIP problem could not better than LP-$relaxation$, which is  $s_{MIP}^\ast \geq s_{LP}^\ast $. This means the optimal solution found in LP problem could provide a lower or prime bound for MIP problem.
\label{def_LP}
\end{definition}



\section{Input}
\begin{itemize}
    \item A MIP problem $\mathcal{P}^0$ with $n$ variables $x$,constraint set $C^0$ with an optimal solution $s^0$, where $s^0$ is a n-vector.
    \item A MIP problem $\mathcal{P}^1$ with $n$ variables $x$, constraint set $C^1$, such that $C^0 \subsetneq C^1$.
    
\end{itemize}							

\section{Output}
\begin{itemize}	
    \item An optimal solution $s^1$ to $\mathcal{P}^1$, where $s^1$ is a n-vector too.
\end{itemize}

\section{Pseudo Code}



\begin{algorithm}[H]
\SetAlgoLined
\DontPrintSemicolon
\KwIn{$k, \,  s^0$ and  $ \mathcal{P}^1$ where $C^0 \subsetneq C^1$}
\KwOut{ optimal solution $s^* \text{ to } \mathcal{P}^1 $}
\Begin{
	\eIf{$s^0\text{ is feasible to }\mathcal{P}^1$}{
			\textbf{return} $s^0$\;
 		} {
 			$\alpha \longleftarrow k \times c^Ts^0$ \;	
 			create new variables $y$ where $y_j \in \mathbb{Z},\, \forall j \in \mathcal{I}$ \tcp*[r]{add new variables} 
 			\For{$j$ in $\mathcal{I}$} {  
 				$\mathcal{P}^2 \longleftarrow $ add constraints to $\mathcal{P}^1 \text{ : }y_j \geq x_j - s_j^0$ \tcp*[r]{add new constraints}
 				$\mathcal{P}^2 \longleftarrow $ add constraints to $\mathcal{P}^2 \text{ : } y_j \geq s_j^0 - x_j$\;
 			}
 			add penalty function to $\mathcal{P}^2$ : $ \alpha \times \sum \limits_j y_j \,, \,j\, \in\, \mathcal{I}$ \tcp*[r]{add penalty function} 
 			$r \longleftarrow 1$ \;
 			\For{$\alpha \geq 0 $}{
				$s^r \longleftarrow \text{ solve } \, \mathcal{P}_r^2$ ($r$-th iteration) to optimal or stop criterion with reoptimization\;
				$ \alpha \longleftarrow \alpha - \displaystyle{\frac{\alpha}{k}}$\;
				$ r \longleftarrow r + 1$\;
 				}
 			$s^* \longleftarrow s^r$ \;
 			\textbf{return} $s^*$\;
% $p^0_{(y)} \longleftarrow \alpha \times \sum \limits_j y_j, \,j\, \in\, \mathcal{I}$ \tcp*[r]{create penalty function}	 	
% $p^1_{(x,y)} \longleftarrow \min \{c^Tx + p^0 \} $ \;
	 	
 		}
}
 \caption{Solving Problem with Reoptimization}}{\label{alg_reop}
\end{algorithm}

\end{document}
